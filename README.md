# **Конфигурационное управлние**

## Постановка задачи:

Разработать эмулятор для языка оболочки ОС. Необходимо сделать работу
эмулятора как можно более похожей на сеанс shell в UNIX-подобной ОС.
Эмулятор должен запускаться из реальной командной строки, а файл с
виртуальной файловой системой не нужно распаковывать у пользователя.
Эмулятор принимает образ виртуальной файловой системы в виде файла формата
zip. Эмулятор должен работать в режиме CLI.
Ключами командной строки задаются:

* Имя пользователя для показа в приглашении к вводу.
* Путь к архиву виртуальной файловой системы.
* Путь к лог-файлу.
* Путь к стартовому скрипту.
  
Лог-файл имеет формат json и содержит все действия во время последнего
сеанса работы с эмулятором. Для каждого действия указан пользователь.
Стартовый скрипт служит для начального выполнения заданного списка
команд из файла.
Необходимо поддержать в эмуляторе команды ls, cd и exit, а также
следующие команды:
1. >uptime.
2. >mkdir.
   
Все функции эмулятора должны быть покрыты тестами, а для каждой из
поддерживаемых команд необходимо написать 2 теста.

## Описание проекта:

Эмулятор запускается из командной строки, симулируя работу с виртуальной файловой системой, хранящиейся в формате zip. Эмулятор рабоает в режиме CLI и должен имитировать поведение сеанса shell в UNIX подобных ОС. 

Эмулятор поддерживает работу с виртуальной файловой системой, предоставляя
пользователю возможность выполнения базовых команд(ls, cd, cat, exit),
а также дополнительных команд (uptime, mkdir).

## Ключевые особенности: 

- **Поддержка командной строки:** Эмулятор принимает несколько параметров при запуске:
     

      - Путь к архиву виртуальной файловой системы (в формате tar).
      - Путь к лог-файлу, куда записываются все действия в формате CSV.
      - Путь к стартовому скрипту, содержащему список команд для начального выполнения.
    
   - **Виртуальная файловая система:** Эмулятор загружает виртуальную файловую систему из zip-архива, не требуя её разархивации на диске.


   - **Команды:** Поддерживаются стандартные команды:

      - ```ls``` — список файлов в текущей директории.
      - ```cd``` — смена текущей директории.
      - ```exit``` — завершение сеанса работы.


   - **Логирование:** Все команды и результаты их выполнения логируются в CSV-файл.

   - **Стартовый скрипт:** При запуске можно указать файл со списком команд, которые должны быть выполнены сразу после запуска эмулятора.

   - **GUI:** Эмулятор работает в графическом интерфейсе, предлагая удобный способ взаимодействия с виртуальной файловой системой и выполнения команд.


# Структура проекта

## Основные компоненты:


1. **Архив виртуальной файловой системы** — zip-файл, представляющий виртуальную файловую систему.


2. Лог-файл — CSV-файл, в который записываются действия пользователя и их результаты.


3. Стартовый скрипт — текстовый файл, содержащий команды, которые выполняются после запуска эмулятора.


4. GUI — графический интерфейс для работы пользователя.

## Лог-файл:
Лог-файл создается или обновляется при каждом сеансе работы. Формат json содержит следующие поля:


   - Время выполнения команды.
   - Название команды.
   - Пользователя
   
Пример лог-файла:
```
User Name,Command,Time
myusername,cd test,2024-10-27 18:59:43
myusername,cat testt.txt,2024-10-27 18:59:43
myusername,cat testt2.txt,2024-10-27 18:59:43
```
## Стартовый скрипт:
Стартовый скрипт содержит список команд, которые будут выполнены при запуске программы. Команды указываются в файле построчно.

Пример файла стартового скрипта:

```
cd test
cat testt.txt
cat testt2.txt
cat testt3.txt
ls 
uptime 
mkdir test
exit
```
### Пример выполнения команд:

Команда python3 main.py --user myusername --vfs test2.zip --log log.json --script right.txt
- ```--user myusername```- пользователь директиву котрого мы открываем 
- ```--vfs test2.zip```-пусть к файлу архива
- ```--log log.json```-путь к лог-файлу
- ```--script right.txt```-ключ --script указывает путь к стартовому скрипту 

### Команда: ```python3 main.py --user myusername --vfs test.zip --log log.json --script right.txt```

![IMAGE 2024-11-01 15:09:46](https://github.com/user-attachments/assets/bede030c-a309-4a05-9906-d9f9f45e17af)

### Команды: ```cd tests``` — переходит в поддиректорию tests и ```ls``` 

![IMAGE 2024-11-01 15:15:05](https://github.com/user-attachments/assets/8a6e56cd-6648-423f-a55d-c2e2d60eed10)

### Команда: ```uptime``` - время работы терминала

![IMAGE 2024-11-01 15:18:26](https://github.com/user-attachments/assets/8d52297f-db79-4e3c-8507-0546ff909478)

### Команда: ```mkdir``` - создание новой директории

![IMAGE 2024-11-01 15:20:45](https://github.com/user-attachments/assets/b96405fc-436a-462f-9382-f13bb546735c)

### Код тестов:

![IMAGE 2024-11-01 15:22:05](https://github.com/user-attachments/assets/aa0de3f5-2d58-43d6-87b6-65447dc05669)

### Результаты тестирования: 
Ввод: ```python3 -m unittest test_emulator.py```

После выполнения тестов, были получены следующие результаты:

![IMAGE 2024-11-01 15:48:47](https://github.com/user-attachments/assets/d6ed4936-3c22-45b5-8cd5-5c946170c31c)












